(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{67:function(){},2061:function(){},2070:function(e,a,s){Promise.resolve().then(s.bind(s,1720))},1720:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return y}});var t=s(7437),r=s(2265),l=s(7107),n=s(2093),i=s(7635),o=s.n(i),d=s(3578),c=s(3647),h=s(5186),u=s(2869),m=s(6110),x=s(6815),p=s(9376),f=s(4508);let j=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],g=e=>new Promise((a,s)=>{let t=new FileReader;t.readAsDataURL(e),t.onload=()=>a(t.result),t.onerror=e=>s(e)});function y(){(0,p.useRouter)();let[e,a]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0),[y,N]=(0,r.useState)(null),[v,w]=(0,r.useState)("all"),[b,C]=(0,r.useState)(""),[P,E]=(0,r.useState)("none"),[k,S]=(0,r.useState)(null),[_,R]=(0,r.useState)(new Set),[I,U]=(0,r.useState)(!1),[D,T]=(0,r.useState)([]),[M,O]=(0,r.useState)(!1),[Q,z]=(0,r.useState)(1),[A,F]=(0,r.useState)(1),[V,B]=(0,r.useState)(0),[L,H]=(0,r.useState)(50),[$,G]=(0,r.useState)(!1);(0,r.useEffect)(()=>{q()},[]),(0,r.useEffect)(()=>{$||G(!0),W()},[Q,L,v,b]);let W=async()=>{i(!0);try{let e=new URLSearchParams({page:Q.toString(),limit:L.toString()});"all"!==v&&e.append("status",v),b&&e.append("search",b);let s=await fetch("/api/orders?".concat(e.toString()));if(!s.ok)throw Error("Failed to fetch orders");let t=await s.json();if(t.success)a(t.orders),F(t.pagination.totalPages),B(t.pagination.total);else throw Error(t.message||"Failed to fetch orders");i(!1)}catch(e){N(e instanceof Error?e.message:"An error occurred"),i(!1)}},Z=e=>{e>=1&&e<=A&&z(e)},Y=e=>{H(e),z(1)},J=()=>{z(1)},q=async()=>{try{let e=await fetch("/api/payment-methods"),a=await e.json();a.success&&T(a.paymentMethods)}catch(e){console.error("Error fetching payment methods:",e)}},K=async s=>{if(confirm("Are you sure you want to delete this order?"))try{if(!(await fetch("/api/orders/".concat(s),{method:"DELETE"})).ok)throw Error("Failed to delete order");a(e.filter(e=>e.id!==s))}catch(e){console.error("Error deleting order:",e),alert("Failed to delete order")}},X=async(s,t)=>{try{let r=e.find(e=>e.id===s);if(!r)return;let l={};t.firstName!==r.firstName&&(l.firstName=t.firstName),t.middleName!==r.middleName&&(l.middleName=t.middleName),t.lastName!==r.lastName&&(l.lastName=t.lastName),t.dateOfBirth!==r.dateOfBirth&&(l.dateOfBirth=t.dateOfBirth),t.sex!==r.sex&&(l.sex=t.sex),t.eyeColor!==r.eyeColor&&(l.eyeColor=t.eyeColor),t.hairColor!==r.hairColor&&(l.hairColor=t.hairColor),t.height!==r.height&&(l.height=t.height),t.weight!==r.weight&&(l.weight=t.weight),t.state!==r.state&&(l.state=t.state),t.platform!==r.platform&&(l.platform=t.platform),t.username!==r.username&&(l.username=t.username),t.email!==r.email&&(l.email=t.email),t.wantEReceipt!==r.wantEReceipt&&(l.wantEReceipt=t.wantEReceipt),t.paymentMethod!==r.paymentMethod&&(l.paymentMethod=t.paymentMethod),t.hasPaid!==r.hasPaid&&(l.hasPaid=t.hasPaid),t.status!==r.status&&(l.status=t.status),t.passportPhotoUrl!==r.passportPhotoUrl&&(l.passportPhotoUrl=t.passportPhotoUrl),t.signaturePhotoUrl!==r.signaturePhotoUrl&&(l.signaturePhotoUrl=t.signaturePhotoUrl),t.price!==r.price&&(l.price=t.price),t.originalPrice!==r.originalPrice&&(l.originalPrice=t.originalPrice),t.coupon!==r.coupon&&(l.coupon=t.coupon),console.log("Sending update with payload:",l);let n=await fetch("/api/orders/".concat(s),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!n.ok){let e=await n.json();throw Error(e.message||"Failed to update order")}let i=await n.json();if(!i.success)throw Error(i.message||"Failed to update order");a(e=>e.map(e=>e.id===s?{...e,...l}:e)),S(null)}catch(e){console.error("Error updating order:",e),alert(e instanceof Error?e.message:"Failed to update order")}},ee=async(e,a)=>{if(e&&k)try{let s=await g(e);S(e=>e?{...e,["passport"===a?"passportPhotoUrl":"signaturePhotoUrl"]:s}:null)}catch(e){console.error("Error converting ".concat(a," photo:"),e),alert("Failed to process ".concat(a," photo"))}},ea=(e,a)=>{k&&S(s=>s?{...s,[e]:a}:null)},es=e=>{if(!k)return;let a="true"===e;console.log("Updating payment status:",{hasPaid:a}),S(e=>e?{...e,hasPaid:a}:null)},et=e.filter(e=>{let a="all"===v||e.status===v,s=""===b||e.orderNumber.toLowerCase().includes(b.toLowerCase())||e.firstName.toLowerCase().includes(b.toLowerCase())||e.lastName.toLowerCase().includes(b.toLowerCase())||e.username.toLowerCase().includes(b.toLowerCase());return a&&s}),er=e=>{R(a=>{let s=new Set(a);return e.forEach(e=>{s.add(e.id)}),s})},el=e=>{R(a=>{let s=new Set(a);return e.forEach(e=>{s.delete(e.id)}),s})},en=e=>{R(a=>{let s=new Set(a);return s.has(e)?s.delete(e):s.add(e),s})},ei=async s=>{try{let t=Array.from(_).map(a=>e.find(e=>e.id===a)?fetch("/api/orders/".concat(a),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:s})}):null);await Promise.all(t.filter(Boolean)),a(e=>e.map(e=>_.has(e.id)?{...e,status:s}:e)),R(new Set)}catch(e){console.error("Error updating orders:",e),alert("Failed to update orders")}},eo=async s=>{try{let t=Array.from(_).map(a=>e.find(e=>e.id===a)?fetch("/api/orders/".concat(a),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({hasPaid:s})}):null);await Promise.all(t.filter(Boolean)),a(e=>e.map(e=>_.has(e.id)?{...e,hasPaid:s}:e)),R(new Set)}catch(e){console.error("Error updating orders:",e),alert("Failed to update orders")}},ed=async()=>{if(confirm("Are you sure you want to delete the selected orders? This action cannot be undone."))try{let e=Array.from(_).map(e=>fetch("/api/orders/".concat(e),{method:"DELETE"}));await Promise.all(e),a(e=>e.filter(e=>!_.has(e.id))),R(new Set)}catch(e){console.error("Error deleting orders:",e),alert("Failed to delete orders")}},ec=async()=>{let e=new(o()),a=et.map((e,a)=>{var s;return{"No.":a+1,"Order Number":e.orderNumber,State:e.state,"First Name":e.firstName,"Middle Name":e.middleName||"","Last Name":e.lastName,Sex:e.sex,"Eye Color":e.eyeColor,"Hair Color":e.hairColor,Birthday:(0,l.WU)(new Date(e.dateOfBirth),"MM/dd/yyyy"),"Height (ft-inches)":e.height,"Weight (lbs)":e.weight,Platform:e.platform,Username:e.username,"Payment Method":e.paymentMethod,Price:"$".concat((0,f._)(e.price).toFixed(2)),"Original Price":"$".concat((0,f._)(e.originalPrice).toFixed(2)),Savings:"$".concat((0,f._)(e.originalPrice-e.price).toFixed(2)),"Coupon Code":(null===(s=e.coupon)||void 0===s?void 0:s.code)||"","Payment Status":e.hasPaid?"Paid":"Unpaid","Email Address":e.email||"","Has Passport Photo":e.passportPhotoUrl?"Yes":"No","Has Signature Photo":e.signaturePhotoUrl?"Yes":"No",Status:e.status}}),s=n.P6.book_new(),t=n.P6.json_to_sheet(a);t["!cols"]=[{wch:5},{wch:15},{wch:12},{wch:15},{wch:15},{wch:15},{wch:8},{wch:10},{wch:10},{wch:12},{wch:12},{wch:8},{wch:12},{wch:20},{wch:15},{wch:10},{wch:10},{wch:10},{wch:15},{wch:12},{wch:25},{wch:8},{wch:8},{wch:15}],n.P6.book_append_sheet(s,t,"Orders");let r=n.cW(s,{bookType:"xlsx",type:"array"});for(let a of(e.file("orders.xlsx",r),et)){let s="".concat(a.firstName).concat(a.middleName?" "+a.middleName:""," ").concat(a.lastName).trim();if(a.passportPhotoUrl||a.signaturePhotoUrl){let t=async e=>{let a=await fetch(e);return await a.blob()};if(a.passportPhotoUrl)try{let r=await t(a.passportPhotoUrl);e.file("".concat(s,"/passport_photo.webp"),r)}catch(e){console.error("Error processing passport photo for ".concat(s,":"),e)}if(a.signaturePhotoUrl)try{let r=await t(a.signaturePhotoUrl);e.file("".concat(s,"/signature.webp"),r)}catch(e){console.error("Error processing signature photo for ".concat(s,":"),e)}}}try{let a=await e.generateAsync({type:"blob"}),s=window.URL.createObjectURL(a),t=document.createElement("a");t.href=s,t.download="orders_export_".concat((0,l.WU)(new Date,"yyyy-MM-dd"),".zip"),document.body.appendChild(t),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(s)}catch(e){console.error("Error generating zip file:",e),alert("Failed to generate export file. Please try again.")}};return s?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):y?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsxs)("div",{className:"text-red-500",children:["Error: ",y]})}):(0,t.jsxs)("div",{className:"container mx-auto py-4 px-2 sm:px-4 sm:py-10",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4 sm:mb-8",children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Dashboard"}),(0,t.jsx)(u.z,{onClick:async()=>{O(!0);try{await ec()}finally{O(!1)}},className:"bg-green-600 hover:bg-green-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",disabled:0===et.length||M,children:M?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Exporting..."]}):"Export to Excel"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-4 mb-6",children:[(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)(h.I,{placeholder:"Search by order #, name, or username...",value:b,onChange:e=>{C(e.target.value)},onSubmit:e=>{e.preventDefault(),J()},className:"w-full sm:max-w-sm"})}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsxs)(c.Ph,{value:v,onValueChange:e=>{w(e),J()},children:[(0,t.jsx)(c.i4,{className:"w-full sm:w-[180px]",children:(0,t.jsx)(c.ki,{placeholder:"Filter by status"})}),(0,t.jsxs)(c.Bw,{children:[(0,t.jsx)(c.Ql,{value:"all",children:"All Status"}),(0,t.jsx)(c.Ql,{value:"RECEIVED",children:"Received"}),(0,t.jsx)(c.Ql,{value:"PROCESSING",children:"Processing"}),(0,t.jsx)(c.Ql,{value:"IN_PRODUCTION",children:"In Production"}),(0,t.jsx)(c.Ql,{value:"IN_TRANSIT",children:"In Transit"}),(0,t.jsx)(c.Ql,{value:"DELIVERED",children:"Delivered"}),(0,t.jsx)(c.Ql,{value:"CANCELLED",children:"Cancelled"})]})]}),(0,t.jsxs)(c.Ph,{value:P,onValueChange:e=>E(e),children:[(0,t.jsx)(c.i4,{className:"w-full sm:w-[180px]",children:(0,t.jsx)(c.ki,{placeholder:"Group by"})}),(0,t.jsxs)(c.Bw,{children:[(0,t.jsx)(c.Ql,{value:"none",children:"No Grouping"}),(0,t.jsx)(c.Ql,{value:"status",children:"Status"}),(0,t.jsx)(c.Ql,{value:"state",children:"State"}),(0,t.jsx)(c.Ql,{value:"paymentMethod",children:"Payment Method"}),(0,t.jsx)(c.Ql,{value:"hasPaid",children:"Payment Status"})]})]})]})]}),_.size>0&&(0,t.jsxs)("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg mb-6 flex flex-wrap items-center gap-2 sm:gap-4",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-600 w-full sm:w-auto",children:[_.size," orders selected"]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[(0,t.jsxs)(c.Ph,{onValueChange:ei,children:[(0,t.jsx)(c.i4,{className:"w-full sm:w-[180px]",children:(0,t.jsx)(c.ki,{placeholder:"Update Status"})}),(0,t.jsxs)(c.Bw,{children:[(0,t.jsx)(c.Ql,{value:"RECEIVED",children:"Mark as Received"}),(0,t.jsx)(c.Ql,{value:"PROCESSING",children:"Mark as Processing"}),(0,t.jsx)(c.Ql,{value:"IN_PRODUCTION",children:"Mark as In Production"}),(0,t.jsx)(c.Ql,{value:"IN_TRANSIT",children:"Mark as In Transit"}),(0,t.jsx)(c.Ql,{value:"DELIVERED",children:"Mark as Delivered"}),(0,t.jsx)(c.Ql,{value:"CANCELLED",children:"Mark as Cancelled"})]})]}),(0,t.jsxs)(c.Ph,{onValueChange:e=>eo("true"===e),children:[(0,t.jsx)(c.i4,{className:"w-full sm:w-[180px]",children:(0,t.jsx)(c.ki,{placeholder:"Update Payment"})}),(0,t.jsxs)(c.Bw,{children:[(0,t.jsx)(c.Ql,{value:"true",children:"Mark as Paid"}),(0,t.jsx)(c.Ql,{value:"false",children:"Mark as Unpaid"})]})]}),(0,t.jsx)(u.z,{variant:"destructive",size:"sm",onClick:ed,className:"w-full sm:w-auto",children:"Delete Selected"}),(0,t.jsx)(u.z,{variant:"outline",size:"sm",onClick:()=>R(new Set),className:"w-full sm:w-auto",children:"Clear Selection"})]})]}),Object.entries("none"===P?{"All Orders":et}:"hasPaid"===P?et.reduce((e,a)=>{let s=a.hasPaid?"Paid":"Unpaid";return e[s]||(e[s]=[]),e[s].push(a),e},{}):et.reduce((e,a)=>{let s=a[P];return e[s]||(e[s]=[]),e[s].push(a),e},{})).map(e=>{let[a,s]=e;return(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-2",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:a}),(0,t.jsxs)("div",{className:"flex gap-2 w-full sm:w-auto",children:[(0,t.jsx)(u.z,{variant:"outline",size:"sm",onClick:()=>er(s),className:"flex-1 sm:flex-none",children:"Select All"}),(0,t.jsx)(u.z,{variant:"outline",size:"sm",onClick:()=>el(s),className:"flex-1 sm:flex-none",children:"Deselect All"})]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsx)("div",{className:"rounded-md border min-w-[800px]",children:(0,t.jsxs)(d.iA,{children:[(0,t.jsx)(d.xD,{children:(0,t.jsxs)(d.SC,{children:[(0,t.jsx)(d.ss,{className:"w-[40px]",children:(0,t.jsx)("input",{type:"checkbox",checked:s.every(e=>_.has(e.id)),onChange:e=>{e.target.checked?er(s):el(s)},className:"rounded border-gray-300"})}),(0,t.jsx)(d.ss,{children:"Order #"}),(0,t.jsx)(d.ss,{children:"Date"}),(0,t.jsx)(d.ss,{children:"Name"}),(0,t.jsx)(d.ss,{children:"State"}),(0,t.jsx)(d.ss,{children:"Contact"}),(0,t.jsx)(d.ss,{children:"Payment"}),(0,t.jsx)(d.ss,{children:"Price"}),(0,t.jsx)(d.ss,{children:"Status"}),(0,t.jsx)(d.ss,{children:"Actions"})]})}),(0,t.jsx)(d.RM,{children:s.map(e=>(0,t.jsxs)(d.SC,{children:[(0,t.jsx)(d.pj,{children:(0,t.jsx)("input",{type:"checkbox",checked:_.has(e.id),onChange:()=>en(e.id),className:"rounded border-gray-300"})}),(0,t.jsx)(d.pj,{className:"font-medium",children:e.orderNumber}),(0,t.jsx)(d.pj,{children:(0,l.WU)(new Date(e.createdAt),"MMM d, yyyy")}),(0,t.jsx)(d.pj,{children:"".concat(e.firstName," ").concat(e.lastName)}),(0,t.jsx)(d.pj,{children:e.state}),(0,t.jsx)(d.pj,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"min-w-[120px]",children:[e.platform,": @",e.username]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[e.passportPhotoUrl&&(0,t.jsx)("div",{className:"relative w-8 h-8 border rounded-md overflow-hidden bg-white shrink-0",children:(0,t.jsx)("img",{src:e.passportPhotoUrl,alt:"Passport",className:"w-full h-full object-cover",onError:e=>{console.error("Failed to load passport photo thumbnail"),e.currentTarget.style.display="none"}})}),e.signaturePhotoUrl&&(0,t.jsx)("div",{className:"relative w-8 h-8 border rounded-md overflow-hidden bg-white shrink-0",children:(0,t.jsx)("img",{src:e.signaturePhotoUrl,alt:"Signature",className:"w-full h-full object-cover",onError:e=>{console.error("Failed to load signature photo thumbnail"),e.currentTarget.style.display="none"}})})]})]})}),(0,t.jsx)(d.pj,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-1 min-w-[120px]",children:[(0,t.jsx)("div",{children:e.paymentMethod}),(0,t.jsx)("div",{children:(0,t.jsx)("span",{className:"inline-block whitespace-nowrap px-2 py-1 rounded-full text-xs font-medium ".concat(e.hasPaid?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.hasPaid?"Paid":"Payment Awaiting"})})]})}),(0,t.jsxs)(d.pj,{children:["$",(0,f._)(e.price).toFixed(2)]}),(0,t.jsx)(d.pj,{children:(0,t.jsx)("span",{className:"inline-block whitespace-nowrap px-2 py-1 rounded-full text-xs font-medium ".concat("RECEIVED"===e.status?"bg-blue-100 text-blue-800":"PROCESSING"===e.status?"bg-yellow-100 text-yellow-800":"IN_PRODUCTION"===e.status?"bg-orange-100 text-orange-800":"IN_TRANSIT"===e.status?"bg-purple-100 text-purple-800":"DELIVERED"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status.charAt(0)+e.status.slice(1).toLowerCase()})}),(0,t.jsx)(d.pj,{children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(m.Vq,{children:[(0,t.jsx)(m.hg,{asChild:!0,children:(0,t.jsx)(u.z,{variant:"outline",size:"sm",onClick:()=>S(e),children:"Edit/View"})}),k&&(0,t.jsxs)(m.cZ,{className:"max-w-4xl bg-white max-h-[90vh] overflow-hidden flex flex-col",children:[(0,t.jsx)(m.fK,{children:(0,t.jsxs)(m.$N,{children:["Edit Order ",k.orderNumber]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 py-4 overflow-y-auto px-6",children:[(0,t.jsxs)("div",{className:"col-span-2 mb-4",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Order Confirmation Link"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(h.I,{readOnly:!0,value:"/order-success?orderIds=".concat(k.id)}),(0,t.jsx)(u.z,{variant:"outline",size:"sm",onClick:()=>{let e="/order-success?orderIds=".concat(k.id);navigator.clipboard.writeText(e)},children:"Copy"})]})]}),(0,t.jsxs)("div",{className:"col-span-2 space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Photos"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(x._,{children:"Passport Photo"}),(0,t.jsx)("div",{className:"relative w-[50%] aspect-square border rounded-md overflow-hidden bg-white",children:k.passportPhotoUrl?(0,t.jsx)("img",{src:k.passportPhotoUrl,alt:"Passport",className:"w-full h-full object-contain",onError:e=>{console.error("Failed to load passport photo"),e.currentTarget.style.display="none"}}):(0,t.jsx)("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No photo uploaded"})}),(0,t.jsx)(h.I,{type:"file",accept:"image/*",onChange:e=>{var a;return ee(null===(a=e.target.files)||void 0===a?void 0:a[0],"passport")}})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(x._,{children:"Signature"}),(0,t.jsx)("div",{className:"relative w-[50%] aspect-square border rounded-md overflow-hidden bg-white",children:k.signaturePhotoUrl?(0,t.jsx)("img",{src:k.signaturePhotoUrl,alt:"Signature",className:"w-full h-full object-contain",onError:e=>{console.error("Failed to load signature photo"),e.currentTarget.style.display="none"}}):(0,t.jsx)("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No signature uploaded"})}),(0,t.jsx)(h.I,{type:"file",accept:"image/*",onChange:e=>{var a;return ee(null===(a=e.target.files)||void 0===a?void 0:a[0],"signature")}})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Personal Information"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x._,{children:"First Name"}),(0,t.jsx)(h.I,{value:k.firstName,onChange:e=>ea("firstName",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x._,{children:"Middle Name"}),(0,t.jsx)(h.I,{value:k.middleName||"",onChange:e=>ea("middleName",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x._,{children:"Last Name"}),(0,t.jsx)(h.I,{value:k.lastName,onChange:e=>ea("lastName",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x._,{children:"Date of Birth"}),(0,t.jsx)(h.I,{type:"date",value:k.dateOfBirth.split("T")[0],onChange:e=>ea("dateOfBirth",new Date(e.target.value).toISOString())})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x._,{children:"Sex"}),(0,t.jsxs)(c.Ph,{value:k.sex,onValueChange:e=>ea("sex",e),children:[(0,t.jsx)(c.i4,{children:(0,t.jsx)(c.ki,{})}),(0,t.jsxs)(c.Bw,{children:[(0,t.jsx)(c.Ql,{value:"M",children:"M"}),(0,t.jsx)(c.Ql,{value:"F",children:"F"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Physical Characteristics & Location"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x._,{children:"Eye Color"}),(0,t.jsxs)(c.Ph,{value:k.eyeColor,onValueChange:e=>ea("eyeColor",e),children:[(0,t.jsx)(c.i4,{children:(0,t.jsx)(c.ki,{})}),(0,t.jsx)(c.Bw,{children:["Brown","Green","Hazel","Blue","Black"].map(e=>(0,t.jsx)(c.Ql,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x._,{children:"Hair Color"}),(0,t.jsxs)(c.Ph,{value:k.hairColor,onValueChange:e=>ea("hairColor",e),children:[(0,t.jsx)(c.i4,{children:(0,t.jsx)(c.ki,{})}),(0,t.jsx)(c.Bw,{children:["Black","Brown","Red","Bald","Blonde"].map(e=>(0,t.jsx)(c.Ql,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x._,{children:"Height"}),(0,t.jsx)(h.I,{value:k.height,onChange:e=>ea("height",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x._,{children:"Weight"}),(0,t.jsx)(h.I,{type:"number",value:k.weight,onChange:e=>ea("weight",parseFloat(e.target.value))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x._,{children:"State"}),(0,t.jsxs)(c.Ph,{value:k.state,onValueChange:e=>ea("state",e),children:[(0,t.jsx)(c.i4,{children:(0,t.jsx)(c.ki,{})}),(0,t.jsx)(c.Bw,{children:j.map(e=>(0,t.jsx)(c.Ql,{value:e,children:e},e))})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Contact Information"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x._,{children:"Platform"}),(0,t.jsxs)(c.Ph,{value:k.platform,onValueChange:e=>ea("platform",e),children:[(0,t.jsx)(c.i4,{children:(0,t.jsx)(c.ki,{})}),(0,t.jsxs)(c.Bw,{children:[(0,t.jsx)(c.Ql,{value:"Telegram",children:"Telegram"}),(0,t.jsx)(c.Ql,{value:"Snapchat",children:"Snapchat"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x._,{children:"Username"}),(0,t.jsx)(h.I,{value:k.username,onChange:e=>ea("username",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x._,{children:"Email"}),(0,t.jsx)(h.I,{value:k.email||"",onChange:e=>ea("email",e.target.value)})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Order Details"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x._,{children:"Coupon Information"}),k.coupon?(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-md space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("span",{className:"font-medium",children:["Code: ",k.coupon.code]}),(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(k.price<k.originalPrice?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:"PERCENTAGE"===k.coupon.discountType?"".concat(k.coupon.discountValue,"% off"):"FIXED_AMOUNT"===k.coupon.discountType?"$".concat(k.coupon.discountValue," off"):"Fixed price: $".concat(k.coupon.discountValue)})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,t.jsxs)("p",{children:["Original Price: $",(0,f._)(k.originalPrice).toFixed(2)]}),(0,t.jsxs)("p",{children:["Final Price: $",(0,f._)(k.price).toFixed(2)]}),(0,t.jsxs)("p",{children:["Savings: $",(0,f._)(k.originalPrice-k.price).toFixed(2)]})]})]}):(0,t.jsx)("div",{className:"p-4 bg-gray-50 rounded-md text-gray-500",children:"No coupon applied to this order"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x._,{children:"Payment Method"}),(0,t.jsxs)(c.Ph,{value:k.paymentMethod,onValueChange:e=>ea("paymentMethod",e),children:[(0,t.jsx)(c.i4,{children:(0,t.jsx)(c.ki,{})}),(0,t.jsx)(c.Bw,{children:D.map(e=>(0,t.jsxs)(c.Ql,{value:e.name,children:[e.name,e.isEnabled?"":" (Disabled)"]},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x._,{children:"Price"}),(0,t.jsx)(h.I,{type:"number",step:"0.01",min:"0",value:k.price,onChange:e=>ea("price",parseFloat(e.target.value))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x._,{children:"Payment Status"}),(0,t.jsxs)(c.Ph,{value:k.hasPaid?"true":"false",onValueChange:es,children:[(0,t.jsx)(c.i4,{children:(0,t.jsx)(c.ki,{})}),(0,t.jsxs)(c.Bw,{children:[(0,t.jsx)(c.Ql,{value:"true",children:"Paid"}),(0,t.jsx)(c.Ql,{value:"false",children:"Payment Awaiting"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x._,{children:"Status"}),(0,t.jsxs)(c.Ph,{value:k.status,onValueChange:e=>ea("status",e),children:[(0,t.jsx)(c.i4,{children:(0,t.jsx)(c.ki,{})}),(0,t.jsxs)(c.Bw,{children:[(0,t.jsx)(c.Ql,{value:"RECEIVED",children:"Received"}),(0,t.jsx)(c.Ql,{value:"PROCESSING",children:"Processing"}),(0,t.jsx)(c.Ql,{value:"IN_PRODUCTION",children:"In Production"}),(0,t.jsx)(c.Ql,{value:"IN_TRANSIT",children:"In Transit"}),(0,t.jsx)(c.Ql,{value:"DELIVERED",children:"Delivered"}),(0,t.jsx)(c.Ql,{value:"CANCELLED",children:"Cancelled"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center p-6 border-t bg-gray-50 mt-auto",children:[(0,t.jsx)(u.z,{variant:"destructive",onClick:()=>{k&&(K(k.id),S(null))},children:"Delete Order"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(u.z,{variant:"outline",onClick:()=>S(null),children:"Cancel"}),(0,t.jsx)(u.z,{onClick:()=>X(k.id,k),children:"Save Changes"})]})]})]})]}),(0,t.jsx)(u.z,{variant:"destructive",size:"sm",onClick:()=>K(e.id),children:"Delete"})]})})]},e.id))})]})})})]},a)}),(0,t.jsx)(()=>(0,t.jsxs)("div",{className:"flex items-center justify-between mt-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{children:"Rows per page:"}),(0,t.jsxs)(c.Ph,{value:L.toString(),onValueChange:e=>Y(parseInt(e)),children:[(0,t.jsx)(c.i4,{className:"w-[80px]",children:(0,t.jsx)(c.ki,{children:L})}),(0,t.jsxs)(c.Bw,{children:[(0,t.jsx)(c.Ql,{value:"10",children:"10"}),(0,t.jsx)(c.Ql,{value:"25",children:"25"}),(0,t.jsx)(c.Ql,{value:"50",children:"50"}),(0,t.jsx)(c.Ql,{value:"100",children:"100"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{children:s?"Loading...":"".concat((Q-1)*L+1,"-").concat(Math.min(Q*L,V)," of ").concat(V)}),(0,t.jsx)(u.z,{variant:"outline",onClick:()=>Z(Q-1),disabled:1===Q||s,children:"Previous"}),(0,t.jsx)(u.z,{variant:"outline",onClick:()=>Z(Q+1),disabled:Q===A||s,children:"Next"})]})]}),{})]})}},2869:function(e,a,s){"use strict";s.d(a,{d:function(){return o},z:function(){return d}});var t=s(7437),r=s(2265),l=s(7053),n=s(535),i=s(4508);let o=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,a)=>{let{className:s,variant:r,size:n,asChild:d=!1,...c}=e,h=d?l.g7:"button";return(0,t.jsx)(h,{className:(0,i.cn)(o({variant:r,size:n,className:s})),ref:a,...c})});d.displayName="Button"},6110:function(e,a,s){"use strict";s.d(a,{$N:function(){return p},Be:function(){return f},Vq:function(){return o},cN:function(){return x},cZ:function(){return u},fK:function(){return m},hg:function(){return d}});var t=s(7437),r=s(2265),l=s(9027),n=s(2489),i=s(4508);let o=l.fC,d=l.xz,c=l.h_;l.x8;let h=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.aV,{ref:a,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});h.displayName=l.aV.displayName;let u=r.forwardRef((e,a)=>{let{className:s,children:r,...o}=e;return(0,t.jsxs)(c,{children:[(0,t.jsx)(h,{}),(0,t.jsxs)(l.VY,{ref:a,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...o,children:[r,(0,t.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(n.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=l.VY.displayName;let m=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...s})};m.displayName="DialogHeader";let x=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};x.displayName="DialogFooter";let p=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.Dx,{ref:a,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});p.displayName=l.Dx.displayName;let f=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.dk,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})});f.displayName=l.dk.displayName},5186:function(e,a,s){"use strict";s.d(a,{I:function(){return n}});var t=s(7437),r=s(2265),l=s(4508);let n=r.forwardRef((e,a)=>{let{className:s,type:r,...n}=e;return(0,t.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...n})});n.displayName="Input"},6815:function(e,a,s){"use strict";s.d(a,{_:function(){return d}});var t=s(7437),r=s(2265),l=s(6394),n=s(535),i=s(4508);let o=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.f,{ref:a,className:(0,i.cn)(o(),s),...r})});d.displayName=l.f.displayName},3647:function(e,a,s){"use strict";s.d(a,{Bw:function(){return p},Ph:function(){return c},Ql:function(){return f},i4:function(){return u},ki:function(){return h}});var t=s(7437),r=s(2265),l=s(7813),n=s(875),i=s(2135),o=s(401),d=s(4508);let c=l.fC;l.ZA;let h=l.B4,u=r.forwardRef((e,a)=>{let{className:s,children:r,...i}=e;return(0,t.jsxs)(l.xz,{ref:a,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[r,(0,t.jsx)(l.JO,{asChild:!0,children:(0,t.jsx)(n.Z,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=l.xz.displayName;let m=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.u_,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,t.jsx)(i.Z,{className:"h-4 w-4"})})});m.displayName=l.u_.displayName;let x=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.$G,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,t.jsx)(n.Z,{className:"h-4 w-4"})})});x.displayName=l.$G.displayName;let p=r.forwardRef((e,a)=>{let{className:s,children:r,position:n="popper",...i}=e;return(0,t.jsx)(l.h_,{children:(0,t.jsxs)(l.VY,{ref:a,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-white text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...i,children:[(0,t.jsx)(m,{}),(0,t.jsx)(l.l_,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,t.jsx)(x,{})]})})});p.displayName=l.VY.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.__,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=l.__.displayName;let f=r.forwardRef((e,a)=>{let{className:s,children:r,...n}=e;return(0,t.jsxs)(l.ck,{ref:a,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.wU,{children:(0,t.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,t.jsx)(l.eT,{children:r})]})});f.displayName=l.ck.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.Z0,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=l.Z0.displayName},3578:function(e,a,s){"use strict";s.d(a,{RM:function(){return o},SC:function(){return d},iA:function(){return n},pj:function(){return h},ss:function(){return c},xD:function(){return i}});var t=s(7437),r=s(2265),l=s(4508);let n=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:a,className:(0,l.cn)("w-full caption-bottom text-sm",s),...r})})});n.displayName="Table";let i=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("thead",{ref:a,className:(0,l.cn)("[&_tr]:border-b",s),...r})});i.displayName="TableHeader";let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("tbody",{ref:a,className:(0,l.cn)("[&_tr:last-child]:border-0",s),...r})});o.displayName="TableBody",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("tfoot",{ref:a,className:(0,l.cn)("bg-primary font-medium text-primary-foreground",s),...r})}).displayName="TableFooter";let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("tr",{ref:a,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});d.displayName="TableRow";let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("th",{ref:a,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r})});c.displayName="TableHead";let h=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("td",{ref:a,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r})});h.displayName="TableCell",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("caption",{ref:a,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",s),...r})}).displayName="TableCaption"},4508:function(e,a,s){"use strict";s.d(a,{_:function(){return n},cn:function(){return l}});var t=s(1994),r=s(3335);function l(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,r.m6)((0,t.W)(a))}function n(e){return Math.round(100*e)/100}}},function(e){e.O(0,[425,569,836,27,107,875,971,117,744],function(){return e(e.s=2070)}),_N_E=e.O()}]);