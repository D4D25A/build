"use strict";(()=>{var e={};e.id=4985,e.ids=[4985],e.modules={98860:e=>{e.exports=require("jsdom")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},32896:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>y,patchFetch:()=>h,requestAsyncStorage:()=>d,routeModule:()=>f,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m});var n={};t.r(n),t.d(n,{GET:()=>c,PATCH:()=>p});var i=t(49303),a=t(88716),o=t(60670),s=t(87070),u=t(83493),l=t(97453);async function c(){try{let e=await u._.priceConfig.findFirst({orderBy:{createdAt:"desc"}});return s.NextResponse.json({success:!0,price:e})}catch(e){return console.error("Error fetching price:",e),s.NextResponse.json({success:!1,message:"Error fetching price",error:e instanceof Error?e.message:"Unknown error"},{status:500})}}async function p(e){try{let r=await e.json(),t=(0,l.Cd)(r.amount);if(!t)return s.NextResponse.json({success:!1,message:"Invalid price amount"},{status:400});let n=await u._.priceConfig.create({data:{amount:t}});return s.NextResponse.json({success:!0,price:n})}catch(e){return console.error("Error updating price:",e),s.NextResponse.json({success:!1,message:"Error updating price",error:e instanceof Error?e.message:"Unknown error"},{status:500})}}let f=new i.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/price/route",pathname:"/api/price",filename:"route",bundlePath:"app/api/price/route"},resolvedPagePath:"/Users/kyleaditya/Documents/IDF coupon fulldetails/app/api/price/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:g}=f,y="/api/price/route";function h(){return(0,o.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}},83493:(e,r,t)=>{t.d(r,{_:()=>i});let n=require("@prisma/client"),i=globalThis.prisma??new n.PrismaClient},97453:(e,r,t)=>{t.d(r,{Cd:()=>p,DA:()=>f,EY:()=>g,Gi:()=>y,H3:()=>u,Rz:()=>x,Uw:()=>I,Vx:()=>m,Wx:()=>w,Yn:()=>C,Z6:()=>E,dB:()=>N,e7:()=>d,eB:()=>h,oc:()=>l,vJ:()=>s,yf:()=>c});var n=t(96468),i=t.n(n),a=t(61555),o=t.n(a);function s(e){return"string"!=typeof e?"":o().escape(e.trim())}function u(e){return"string"!=typeof e?"":o().normalizeEmail(e.trim().toLowerCase())||""}function l(e){return"string"!=typeof e?"":o().escape(e.trim()).replace(/[^a-zA-Z0-9_.-]/g,"")}function c(e){if("string"!=typeof e)return null;let r=e.trim();return"snapchat"===r.toLowerCase()?"Snapchat":"telegram"===r.toLowerCase()?"Telegram":null}function p(e){if("number"==typeof e)return e>0?Math.round(100*e)/100:null;if("string"==typeof e){let r=parseFloat(e);return!isNaN(r)&&r>0?Math.round(100*r)/100:null}return null}function f(e){if(e instanceof Date)return e;if("string"==typeof e){let r=new Date(e);return isNaN(r.getTime())?null:r}return null}function d(e){if("boolean"==typeof e)return e;if("string"==typeof e){let r=e.toLowerCase();return"true"===r||"1"===r||"yes"===r}return"number"==typeof e&&1===e}function m(e){if("string"!=typeof e)return null;let r=e.trim();return/^c[a-z0-9]{24}$/.test(r)?r:null}function g(e){if("string"!=typeof e)return null;let r=e.trim();return["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"].includes(r)?r:null}function y(e){if("string"!=typeof e)return null;let r=e.trim().toUpperCase();return["RECEIVED","PROCESSING","IN_PRODUCTION","IN_TRANSIT","DELIVERED","CANCELLED"].includes(r)?r:null}function h(e){return"string"!=typeof e?null:e.trim()||null}function N(e){if("string"!=typeof e)return null;let r=e.trim();if(!r.startsWith("data:image/"))return null;let[t,n]=r.split(",");if(!t||!n)return null;try{return atob(n),r}catch{return null}}function C(e){if("string"!=typeof e)return null;let r=e.trim().toUpperCase();return["ADMIN","USER"].includes(r)?r:null}function w(e){if("string"!=typeof e)return null;let r=e.trim().toUpperCase();return["INFO","FAQ","PRIVACY"].includes(r)?r:null}function E(e){return"string"!=typeof e?"":i().sanitize(e.trim())}function x(e){if("string"!=typeof e)return null;let r=e.trim();return/^[4-6]'(?:10|11|[0-9])"$/.test(r)?r:null}function I(e){if("number"==typeof e)return e>=50&&e<=500?Math.round(e):null;if("string"==typeof e){let r=parseInt(e,10);return!isNaN(r)&&r>=50&&r<=500?r:null}return null}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[9276,5972,3556],()=>t(32896));module.exports=n})();