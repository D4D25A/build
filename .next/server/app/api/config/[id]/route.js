"use strict";(()=>{var e={};e.id=7609,e.ids=[7609],e.modules={98860:e=>{e.exports=require("jsdom")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},89872:(e,t,n)=>{n.r(t),n.d(t,{originalPathname:()=>y,patchFetch:()=>h,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>g});var r={};n.r(r),n.d(r,{DELETE:()=>c,PATCH:()=>f});var i=n(49303),o=n(88716),s=n(60670),a=n(87070),u=n(83493),l=n(97453);async function f(e,{params:t}){try{if(!await u._.siteConfig.findUnique({where:{id:t.id}}))return a.NextResponse.json({success:!1,message:"Config not found"},{status:404});let n=await e.json(),r={};if(void 0!==n.type){let e=(0,l.Wx)(n.type);if(!e)return a.NextResponse.json({success:!1,message:"Invalid config type"},{status:400});r.type=e}if(void 0!==n.title){let e=(0,l.vJ)(n.title);if(!e)return a.NextResponse.json({success:!1,message:"Invalid title"},{status:400});r.title=e}if(void 0!==n.content){let e=(0,l.Z6)(n.content);if(!e)return a.NextResponse.json({success:!1,message:"Invalid content"},{status:400});r.content=e}void 0!==n.order&&(r.order="number"==typeof n.order?Math.max(0,Math.floor(n.order)):0);let i=await u._.siteConfig.update({where:{id:t.id},data:r});return a.NextResponse.json({success:!0,config:i})}catch(e){return console.error("Error updating configuration:",e),a.NextResponse.json({success:!1,message:"Error updating configuration",error:e instanceof Error?e.message:"Unknown error"},{status:500})}}async function c(e,{params:t}){try{if(!await u._.siteConfig.findUnique({where:{id:t.id}}))return a.NextResponse.json({success:!1,message:"Config not found"},{status:404});return await u._.siteConfig.delete({where:{id:t.id}}),a.NextResponse.json({success:!0})}catch(e){return console.error("Error deleting configuration:",e),a.NextResponse.json({success:!1,message:"Error deleting configuration",error:e instanceof Error?e.message:"Unknown error"},{status:500})}}let p=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/config/[id]/route",pathname:"/api/config/[id]",filename:"route",bundlePath:"app/api/config/[id]/route"},resolvedPagePath:"/Users/kyleaditya/Documents/IDF coupon fulldetails/app/api/config/[id]/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:d,staticGenerationAsyncStorage:g,serverHooks:m}=p,y="/api/config/[id]/route";function h(){return(0,s.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:g})}},83493:(e,t,n)=>{n.d(t,{_:()=>i});let r=require("@prisma/client"),i=globalThis.prisma??new r.PrismaClient},97453:(e,t,n)=>{n.d(t,{Cd:()=>c,DA:()=>p,EY:()=>m,Gi:()=>y,H3:()=>u,Rz:()=>E,Uw:()=>v,Vx:()=>g,Wx:()=>w,Yn:()=>C,Z6:()=>x,dB:()=>N,e7:()=>d,eB:()=>h,oc:()=>l,vJ:()=>a,yf:()=>f});var r=n(96468),i=n.n(r),o=n(61555),s=n.n(o);function a(e){return"string"!=typeof e?"":s().escape(e.trim())}function u(e){return"string"!=typeof e?"":s().normalizeEmail(e.trim().toLowerCase())||""}function l(e){return"string"!=typeof e?"":s().escape(e.trim()).replace(/[^a-zA-Z0-9_.-]/g,"")}function f(e){if("string"!=typeof e)return null;let t=e.trim();return"snapchat"===t.toLowerCase()?"Snapchat":"telegram"===t.toLowerCase()?"Telegram":null}function c(e){if("number"==typeof e)return e>0?Math.round(100*e)/100:null;if("string"==typeof e){let t=parseFloat(e);return!isNaN(t)&&t>0?Math.round(100*t)/100:null}return null}function p(e){if(e instanceof Date)return e;if("string"==typeof e){let t=new Date(e);return isNaN(t.getTime())?null:t}return null}function d(e){if("boolean"==typeof e)return e;if("string"==typeof e){let t=e.toLowerCase();return"true"===t||"1"===t||"yes"===t}return"number"==typeof e&&1===e}function g(e){if("string"!=typeof e)return null;let t=e.trim();return/^c[a-z0-9]{24}$/.test(t)?t:null}function m(e){if("string"!=typeof e)return null;let t=e.trim();return["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"].includes(t)?t:null}function y(e){if("string"!=typeof e)return null;let t=e.trim().toUpperCase();return["RECEIVED","PROCESSING","IN_PRODUCTION","IN_TRANSIT","DELIVERED","CANCELLED"].includes(t)?t:null}function h(e){return"string"!=typeof e?null:e.trim()||null}function N(e){if("string"!=typeof e)return null;let t=e.trim();if(!t.startsWith("data:image/"))return null;let[n,r]=t.split(",");if(!n||!r)return null;try{return atob(r),t}catch{return null}}function C(e){if("string"!=typeof e)return null;let t=e.trim().toUpperCase();return["ADMIN","USER"].includes(t)?t:null}function w(e){if("string"!=typeof e)return null;let t=e.trim().toUpperCase();return["INFO","FAQ","PRIVACY"].includes(t)?t:null}function x(e){return"string"!=typeof e?"":i().sanitize(e.trim())}function E(e){if("string"!=typeof e)return null;let t=e.trim();return/^[4-6]'(?:10|11|[0-9])"$/.test(t)?t:null}function v(e){if("number"==typeof e)return e>=50&&e<=500?Math.round(e):null;if("string"==typeof e){let t=parseInt(e,10);return!isNaN(t)&&t>=50&&t<=500?t:null}return null}}};var t=require("../../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[9276,5972,3556],()=>n(89872));module.exports=r})();