(()=>{var e={};e.id=1931,e.ids=[1931],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},75695:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d}),a(90908),a(84752),a(35866);var r=a(23191),s=a(88716),i=a(37922),o=a.n(i),l=a(95231),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);a.d(t,n);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,90908)),"/Users/kyleaditya/Documents/IDF coupon fulldetails/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,84752)),"/Users/kyleaditya/Documents/IDF coupon fulldetails/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/kyleaditya/Documents/IDF coupon fulldetails/app/page.tsx"],m="/page",u={require:a,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},55385:(e,t,a)=>{Promise.resolve().then(a.bind(a,18750))},18750:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>el});var r=a(10326),s=a(17577),i=a.n(s),o=a(74723),l=a(98181),n=a(37388),d=a(941),c=a(90772),m=a(9346),u=a(55632),h=a(54432),p=a(34474),x=a(30811),f=a(35047),g=a(46226),j=a(85999),y=a(93095),v=a(48051),N=a(98958),w=a(82561),b=a(34214),C="AlertDialog",[P,I]=(0,y.b)(C,[N.p8]),k=(0,N.p8)(),S=e=>{let{__scopeAlertDialog:t,...a}=e,s=k(t);return(0,r.jsx)(N.fC,{...s,...a,modal:!0})};S.displayName=C,s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,i=k(a);return(0,r.jsx)(N.xz,{...i,...s,ref:t})}).displayName="AlertDialogTrigger";var D=e=>{let{__scopeAlertDialog:t,...a}=e,s=k(t);return(0,r.jsx)(N.h_,{...s,...a})};D.displayName="AlertDialogPortal";var E=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,i=k(a);return(0,r.jsx)(N.aV,{...i,...s,ref:t})});E.displayName="AlertDialogOverlay";var O="AlertDialogContent",[M,R]=P(O),B=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,children:i,...o}=e,l=k(a),n=s.useRef(null),d=(0,v.e)(t,n),c=s.useRef(null);return(0,r.jsx)(N.jm,{contentName:O,titleName:A,docsSlug:"alert-dialog",children:(0,r.jsx)(M,{scope:a,cancelRef:c,children:(0,r.jsxs)(N.VY,{role:"alertdialog",...l,...o,ref:d,onOpenAutoFocus:(0,w.M)(o.onOpenAutoFocus,e=>{e.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,r.jsx)(b.A4,{children:i}),(0,r.jsx)(T,{contentRef:n})]})})})});B.displayName=O;var A="AlertDialogTitle",F=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,i=k(a);return(0,r.jsx)(N.Dx,{...i,...s,ref:t})});F.displayName=A;var _="AlertDialogDescription",z=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,i=k(a);return(0,r.jsx)(N.dk,{...i,...s,ref:t})});z.displayName=_;var q=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,i=k(a);return(0,r.jsx)(N.x8,{...i,...s,ref:t})});q.displayName="AlertDialogAction";var W="AlertDialogCancel",U=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,{cancelRef:i}=R(W,a),o=k(a),l=(0,v.e)(t,i);return(0,r.jsx)(N.x8,{...o,...s,ref:l})});U.displayName=W;var T=({contentRef:e})=>{let t=`\`${O}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${O}\` by passing a \`${_}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${O}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return s.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},$=a(77863);let J=s.forwardRef(({className:e,...t},a)=>r.jsx(E,{className:(0,$.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:a}));J.displayName=E.displayName;let L=s.forwardRef(({className:e,...t},a)=>(0,r.jsxs)(D,{children:[r.jsx(J,{}),r.jsx(B,{ref:a,className:(0,$.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));L.displayName=B.displayName;let V=({className:e,...t})=>r.jsx("div",{className:(0,$.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});V.displayName="AlertDialogHeader";let G=({className:e,...t})=>r.jsx("div",{className:(0,$.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});G.displayName="AlertDialogFooter";let X=s.forwardRef(({className:e,...t},a)=>r.jsx(F,{ref:a,className:(0,$.cn)("text-lg font-semibold",e),...t}));X.displayName=F.displayName;let Y=s.forwardRef(({className:e,...t},a)=>r.jsx(z,{ref:a,className:(0,$.cn)("text-sm text-muted-foreground",e),...t}));Y.displayName=z.displayName;let H=s.forwardRef(({className:e,...t},a)=>r.jsx(q,{ref:a,className:(0,$.cn)((0,c.d)(),e),...t}));H.displayName=q.displayName,s.forwardRef(({className:e,...t},a)=>r.jsx(U,{ref:a,className:(0,$.cn)((0,c.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...t})).displayName=U.displayName;let Q=["Brown","Green","Hazel","Blue","Black"],Z=["Black","Brown","Red","Bald","Blonde"],K=Array.from({length:25},(e,t)=>{let a=58+t;return`${Math.floor(a/12)}'${a%12}"`}),ee=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],et=["M","F"],ea=e=>new Promise((t,a)=>{let r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=e=>a(e)});function er({showCartPreview:e,setShowCartPreview:t,cart:a,onCartUpdate:y}){let v=(0,f.useRouter)(),N=(0,f.useSearchParams)(),w=N.get("username")||"",b=N.get("platform"),C=b?b.charAt(0).toUpperCase()+b.slice(1).toLowerCase():void 0,[P,I]=(0,s.useState)(!0),[k,D]=(0,s.useState)(!0),[E,O]=(0,s.useState)(!1),[M,R]=(0,s.useState)(!1),[B,A]=(0,s.useState)({title:"",description:""}),F=(0,o.cI)({defaultValues:{firstName:"",lastName:"",dateOfBirth:void 0,sex:"",eyeColor:"",hairColor:"",height:"",weight:"",state:"",platform:P?C:"",username:P?w:"",paymentMethod:"",wantEReceipt:!1,email:"",couponCode:"",passportPhoto:void 0,signaturePhoto:void 0,middleName:""}}),[_,z]=(0,s.useState)(),[q,W]=(0,s.useState)({platform:P?C:void 0,username:P?w:""}),[U,T]=(0,s.useState)(!0),[$,J]=(0,s.useState)(null),[er,es]=(0,s.useState)({}),[ei,eo]=(0,s.useState)(null),[el,en]=(0,s.useState)(!0),[ed,ec]=(0,s.useState)([]),[em,eu]=(0,s.useState)([]),[eh,ep]=(0,s.useState)("Your privacy & security is our priority. Your information is encrypted and stays with only us. Key's IDs is a secure and reliable service."),[ex,ef]=(0,s.useState)([]),[eg,ej]=(0,s.useState)(""),[ey,ev]=(0,s.useState)(null),[eN,ew]=(0,s.useState)(!1),eb=async(e,t)=>{try{let a=await fetch("/api/coupons/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e,originalPrice:t})}),r=await a.json();if(r.success)return ev({code:e,discountedPrice:r.data.discountedPrice,originalPrice:t}),ej(""),{finalPrice:r.data.discountedPrice,couponId:r.data.couponId,couponDetails:r.data.couponDetails};return ej(r.error),ev(null),{finalPrice:t,couponId:void 0,couponDetails:void 0}}catch(e){return console.error("Error validating coupon:",e),ej("Failed to validate coupon"),ev(null),{finalPrice:t,couponId:void 0,couponDetails:void 0}}},eC=async e=>{if(null===ei){console.error("Price not loaded yet");return}try{let r,s;if(e.wantEReceipt&&(!e.email||!e.email.trim())){A({title:"Validation Error",description:"Email is required when e-receipt is enabled."}),R(!0);return}let i=ei;if(e.couponCode&&!eg)try{let t=await eb(e.couponCode,ei);i=t.finalPrice,r=t.couponId,s=e.couponCode}catch(e){console.error("Error validating coupon:",e),i=ei,r=void 0,s=void 0}let o={id:Math.random().toString(36).substr(2,9),firstName:e.firstName,middleName:e.middleName,lastName:e.lastName,dateOfBirth:e.dateOfBirth,sex:e.sex,eyeColor:e.eyeColor,hairColor:e.hairColor,height:e.height,weight:e.weight,state:e.state,platform:e.platform,username:e.username,paymentMethod:e.paymentMethod,wantEReceipt:e.wantEReceipt,email:e.email,passportPhotoBase64:e.passportPhoto.length>0?await ea(e.passportPhoto[0]):void 0,signaturePhotoBase64:e.signaturePhoto.length>0?await ea(e.signaturePhoto[0]):void 0,price:i,originalPrice:ei,couponCode:s,couponId:r,createdAt:new Date};y([...a,o]),t(!0),F.reset({firstName:"",lastName:"",dateOfBirth:void 0,sex:"",eyeColor:"",hairColor:"",height:"",weight:"",state:"",platform:P?C:"",username:P?w:"",paymentMethod:"",wantEReceipt:!1,email:"",couponCode:"",passportPhoto:void 0,signaturePhoto:void 0,middleName:""}),W({platform:P?C:void 0,username:P?w:void 0}),ev(null),ej(""),F.clearErrors(),document.querySelectorAll('input[type="file"]').forEach(e=>{e.value=""}),z(void 0)}catch(e){console.error("Error adding to cart:",e),j.Am.error("Failed to add item to cart")}},eP=e=>{y(a.filter(t=>t.id!==e))},eI=async()=>{if(null===ei){console.error("Price not loaded yet");return}ew(!0);try{let e=a.filter(e=>e.wantEReceipt&&!e.email);if(e.length>0){A({title:"Validation Error",description:`Email is required for e-receipt. Please edit the following orders to add an email: ${e.map(e=>e.firstName+" "+e.lastName).join(", ")}`}),R(!0);return}for(let e of a)if(e.couponCode)try{let t=await fetch("/api/coupons/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e.couponCode,originalPrice:ei})});if(!t.ok){let a=await t.json();A({title:"Invalid Coupon",description:`The coupon "${e.couponCode}" for ${e.firstName} ${e.lastName} is invalid: ${a.error||"Unknown error"}`}),R(!0);return}}catch(t){A({title:"Coupon Validation Error",description:`Failed to validate coupon for ${e.firstName} ${e.lastName}. Please try again.`}),R(!0);return}let t=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),r=await t.json();r.success?(y([]),v.push(`/order-success?orderIds=${r.orders.map(e=>e.id).join(",")}`)):(A({title:"Order Submission Failed",description:r.error||"Failed to submit orders. Please try again."}),R(!0))}catch(e){console.error("Error submitting cart:",e),A({title:"Order Submission Failed",description:"An unexpected error occurred. Please try again."}),R(!0)}finally{ew(!1)}},ek=async e=>{if(null===ei){console.error("Price not loaded yet");return}ew(!0);try{let t;if(e.wantEReceipt&&(!e.email||!e.email.trim())){A({title:"Validation Error",description:"Email is required when e-receipt is enabled."}),R(!0);return}let a=ei;if(e.couponCode&&!eg)try{let r=await eb(e.couponCode,ei);a=r.finalPrice,t=r.couponId}catch(e){console.error("Error validating coupon:",e),a=ei,t=void 0}let r=P?C:e.platform.charAt(0).toUpperCase()+e.platform.slice(1).toLowerCase(),s={firstName:e.firstName,middleName:e.middleName||void 0,lastName:e.lastName,dateOfBirth:e.dateOfBirth instanceof Date?e.dateOfBirth.toISOString():new Date(e.dateOfBirth).toISOString(),sex:e.sex,eyeColor:e.eyeColor,hairColor:e.hairColor,height:e.height,weight:e.weight,state:e.state,platform:r,username:P?w||"":e.username,paymentMethod:e.paymentMethod,wantEReceipt:!!e.wantEReceipt,email:e.email||void 0,passportPhotoBase64:q.passportPhotoUrl||void 0,signaturePhotoBase64:q.signaturePhotoUrl||void 0,price:a,originalPrice:ei,couponId:t},i=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([s])});if(!i.ok){let e=await i.json();throw console.error("Order submission failed:",e),Error(e.error||"Failed to submit order")}let o=await i.json();F.reset(),W({}),ev(null),ej(""),document.querySelectorAll('input[type="file"]').forEach(e=>{e.value=""}),v.push(`/order-success?orderIds=${o.orders[0].id}`)}catch(e){console.error("Error submitting order:",e),A({title:"Order Submission Failed",description:e instanceof Error?e.message:"Failed to submit order. Please try again."}),R(!0)}finally{ew(!1)}},eS=async e=>{let a={firstName:e.firstName,middleName:e.middleName||"",lastName:e.lastName,dateOfBirth:new Date(e.dateOfBirth),sex:e.sex,eyeColor:e.eyeColor,hairColor:e.hairColor,height:e.height,weight:e.weight,state:e.state,platform:e.platform,username:e.username?.replace("@","")||"",paymentMethod:e.paymentMethod,wantEReceipt:e.wantEReceipt||!1,email:e.email||"",passportPhoto:void 0,signaturePhoto:void 0,couponCode:e.couponCode||""};if(F.reset(a),W({...a,passportPhotoUrl:e.passportPhotoBase64??void 0,signaturePhotoUrl:e.signaturePhotoBase64??void 0}),e.couponCode)try{let t=await fetch("/api/price"),{price:a}=await t.json(),r=a?.amount||85,s=await eb(e.couponCode,r);ev({code:e.couponCode,originalPrice:r,discountedPrice:s.finalPrice,couponId:s.couponId})}catch(e){console.error("Error validating coupon:",e),ev(null),ej("Failed to validate coupon. Please try applying it again.")}else ev(null);J(e.id),t(!1)},eD=async e=>{if($)try{let r=a.find(e=>e.id===$);if(!r)return;let s=e.passportPhoto?.length?await ea(e.passportPhoto[0]):r.passportPhotoBase64,i=e.signaturePhoto?.length?await ea(e.signaturePhoto[0]):r.signaturePhotoBase64,o=r.price,l=r.couponId,n=r.couponCode;if(e.couponCode!==r.couponCode){let t=await fetch("/api/price"),{price:a}=await t.json(),r=a?.amount||85;if(e.couponCode)try{let t=await eb(e.couponCode,r);eg?(o=r,l=void 0,n=void 0):(o=t.finalPrice,l=t.couponId,n=e.couponCode)}catch(e){console.error("Error validating coupon:",e),o=r,l=void 0,n=void 0}else o=r,l=void 0,n=void 0}let d={...e,id:$,createdAt:new Date,passportPhotoBase64:s,signaturePhotoBase64:i,price:o,originalPrice:r.originalPrice,couponId:l,couponCode:n};delete d.passportPhoto,delete d.signaturePhoto;let c=a.map(e=>e.id===$?d:e);y(c),F.reset({firstName:"",lastName:"",dateOfBirth:void 0,sex:"",eyeColor:"",hairColor:"",height:"",weight:"",state:"",platform:P?C:"",username:P?w:"",paymentMethod:"",wantEReceipt:!1,email:"",couponCode:"",passportPhoto:void 0,signaturePhoto:void 0,middleName:""}),W({platform:P?C:void 0,username:P?w:void 0}),ev(null),ej(""),F.clearErrors(),document.querySelectorAll('input[type="file"]').forEach(e=>{e.value=""}),z(void 0),J(null),t(!0)}catch(e){console.error("Error updating item:",e),A({title:"Update Failed",description:"Failed to update item. Please try again."}),R(!0)}},eE=e=>{es(t=>({...t,[e]:!t[e]}))};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"p-2 pb-20 max-w-7xl mx-auto space-y-4",children:[r.jsx("div",{className:"bg-gray-50 p-4 sm:p-6 rounded-lg shadow-sm border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-6 w-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Welcome to Key's IDs!"}),ed.map(e=>r.jsx("div",{className:"mt-4 space-y-2",children:r.jsx("div",{className:"text-sm text-gray-500 prose",dangerouslySetInnerHTML:{__html:e.content}})},e.id)),r.jsx("p",{className:"text-sm text-blue-600 hover:text-blue-800 cursor-pointer pt-2",onClick:()=>{document.querySelector("#faq-section")?.scrollIntoView({behavior:"smooth"})},children:r.jsx("strong",{children:"Have questions or concerns? Check out our FAQ"})})]})]})}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 sm:gap-8",children:[r.jsx("div",{className:"w-full md:flex-1 bg-white p-4 sm:p-8 rounded-lg shadow-lg",children:r.jsx(u.l0,{...F,children:(0,r.jsxs)("form",{id:"order-form",onSubmit:e=>{e.preventDefault(),F.handleSubmit(eC)(e)},className:"space-y-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(u.Wi,{control:F.control,name:"firstName",rules:{required:"First name is required"},render:({field:e})=>(0,r.jsxs)(u.xJ,{children:[(0,r.jsxs)(u.lX,{children:["First Name",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(u.NI,{children:r.jsx(h.I,{placeholder:"John",...e})}),r.jsx(u.zG,{className:"text-red-500"})]})}),r.jsx(u.Wi,{control:F.control,name:"middleName",render:({field:e})=>(0,r.jsxs)(u.xJ,{children:[r.jsx(u.lX,{children:"Middle Name (Optional)"}),r.jsx(u.NI,{children:r.jsx(h.I,{placeholder:"Michael",...e})}),r.jsx(u.zG,{className:"text-red-500"})]})}),r.jsx(u.Wi,{control:F.control,name:"lastName",rules:{required:"Last name is required"},render:({field:e})=>(0,r.jsxs)(u.xJ,{children:[(0,r.jsxs)(u.lX,{children:["Last Name",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(u.NI,{children:r.jsx(h.I,{placeholder:"Doe",...e})}),r.jsx(u.zG,{className:"text-red-500"})]})})]}),r.jsx(u.Wi,{control:F.control,name:"dateOfBirth",rules:{required:"Date of birth is required",validate:e=>!(!(e instanceof Date)||isNaN(e.getTime()))||"Please enter a valid date"},render:({field:e})=>(0,r.jsxs)(u.xJ,{className:"flex flex-col",children:[(0,r.jsxs)(u.lX,{children:["Date of Birth ",r.jsx("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("div",{className:"flex",children:[r.jsx(u.NI,{children:r.jsx(h.I,{type:"text",placeholder:"MM/DD/YYYY",value:e.value?(0,l.WU)(e.value,"MM/dd/yyyy"):"",readOnly:!0,className:"rounded-r-none bg-gray-50"})}),(0,r.jsxs)(x.J2,{children:[r.jsx(x.xo,{asChild:!0,children:r.jsx(c.z,{variant:"outline",className:"rounded-l-none border-l-0",children:r.jsx(n.Z,{className:"h-4 w-4"})})}),r.jsx(x.yk,{className:"w-auto p-0 bg-white",align:"end",children:r.jsx(m.f,{mode:"single",selected:e.value,onSelect:e.onChange,disabled:e=>e>new Date||e<new Date("1900-01-01"),initialFocus:!0,captionLayout:"dropdown-buttons",fromYear:1900,toYear:new Date().getFullYear(),classNames:{caption_label:"hidden",nav:"space-x-1 flex items-center",nav_button_previous:"hidden",nav_button_next:"hidden",head_row:"hidden",table:"w-full border-collapse space-y-1",cell:"text-center p-0 relative [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:"h-9 w-9 p-0 font-normal aria-selected:opacity-100",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_outside:"opacity-50",day_disabled:"opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",root:"p-3"},components:{Dropdown:({value:e,onChange:t,children:a,...s})=>{let o=["January","February","March","April","May","June","July","August","September","October","November","December"],l=o[Number(e)]||e;return(0,r.jsxs)(p.Ph,{value:String(e),onValueChange:e=>{let a=parseInt(e,10),r={target:{value:a},currentTarget:{value:a},preventDefault:()=>{},stopPropagation:()=>{},type:"change",bubbles:!0,cancelable:!0,defaultPrevented:!1,nativeEvent:new Event("change"),timeStamp:Date.now(),isTrusted:!0};t?.(r)},children:[r.jsx(p.i4,{className:"w-[140px]",children:r.jsx(p.ki,{children:l})}),r.jsx(p.Bw,{children:i().Children.map(a,e=>{if(i().isValidElement(e)){let t=e.props.value,a=o[t]||e.props.children;return r.jsx(p.Ql,{value:String(t),children:a})}})})]})}}})})]})]}),(0,r.jsxs)(u.pf,{children:["Use the calendar button to select the date of birth that will be displayed on your ID.",r.jsx("br",{}),r.jsx("span",{className:"text-sm text-blue-600 mt-1",children:"Note: Select a date that makes you 18+ for U21 ID or 21+ for O21 ID."})]}),r.jsx(u.zG,{className:"text-red-500"})]})}),r.jsx(u.Wi,{control:F.control,name:"sex",rules:{required:"Sex is required"},render:({field:e})=>(0,r.jsxs)(u.xJ,{children:[(0,r.jsxs)(u.lX,{children:["Sex",r.jsx("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)(p.Ph,{onValueChange:e.onChange,value:e.value,children:[r.jsx(u.NI,{children:r.jsx(p.i4,{children:r.jsx(p.ki,{placeholder:"Select sex"})})}),r.jsx(p.Bw,{children:et.map(e=>r.jsx(p.Ql,{value:e,children:e},e))})]}),r.jsx(u.zG,{className:"text-red-500"})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(u.Wi,{control:F.control,name:"eyeColor",rules:{required:"Eye color is required"},render:({field:e})=>(0,r.jsxs)(u.xJ,{children:[(0,r.jsxs)(u.lX,{children:["Eye Color",r.jsx("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)(p.Ph,{onValueChange:e.onChange,value:e.value,children:[r.jsx(u.NI,{children:r.jsx(p.i4,{children:r.jsx(p.ki,{placeholder:"Select eye color"})})}),r.jsx(p.Bw,{children:Q.map(e=>r.jsx(p.Ql,{value:e,children:e},e))})]}),r.jsx(u.zG,{className:"text-red-500"})]})}),r.jsx(u.Wi,{control:F.control,name:"hairColor",rules:{required:"Hair color is required"},render:({field:e})=>(0,r.jsxs)(u.xJ,{children:[(0,r.jsxs)(u.lX,{children:["Hair Color",r.jsx("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)(p.Ph,{onValueChange:e.onChange,value:e.value,children:[r.jsx(u.NI,{children:r.jsx(p.i4,{children:r.jsx(p.ki,{placeholder:"Select hair color"})})}),r.jsx(p.Bw,{children:Z.map(e=>r.jsx(p.Ql,{value:e,children:e},e))})]}),r.jsx(u.zG,{className:"text-red-500"})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(u.Wi,{control:F.control,name:"height",rules:{required:"Height is required"},render:({field:e})=>(0,r.jsxs)(u.xJ,{children:[(0,r.jsxs)(u.lX,{children:["Height",r.jsx("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)(p.Ph,{onValueChange:e.onChange,value:e.value,children:[r.jsx(u.NI,{children:r.jsx(p.i4,{children:r.jsx(p.ki,{placeholder:"Select height"})})}),r.jsx(p.Bw,{children:K.map(e=>r.jsx(p.Ql,{value:e,children:e},e))})]}),r.jsx(u.zG,{className:"text-red-500"})]})}),r.jsx(u.Wi,{control:F.control,name:"weight",rules:{required:"Weight is required",min:{value:50,message:"Weight must be at least 50 lbs"},max:{value:500,message:"Weight must be less than 500 lbs"}},render:({field:{onChange:e,...t}})=>(0,r.jsxs)(u.xJ,{children:[(0,r.jsxs)(u.lX,{children:["Weight (lbs)",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(u.NI,{children:r.jsx(h.I,{type:"number",placeholder:"Enter weight in pounds",onChange:t=>{let a=parseInt(t.target.value);e(isNaN(a)?"":a)},...t})}),r.jsx(u.zG,{className:"text-red-500"})]})})]}),r.jsx(u.Wi,{control:F.control,name:"state",rules:{required:"State is required"},render:({field:e})=>(0,r.jsxs)(u.xJ,{children:[(0,r.jsxs)(u.lX,{children:["State",r.jsx("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)(p.Ph,{onValueChange:e.onChange,value:e.value,children:[r.jsx(u.NI,{children:r.jsx(p.i4,{children:r.jsx(p.ki,{placeholder:"Select state"})})}),r.jsx(p.Bw,{children:ee.map(e=>r.jsx(p.Ql,{value:e,children:e},e))})]}),r.jsx(u.zG,{className:"text-red-500"})]})}),r.jsx(u.Wi,{control:F.control,name:"passportPhoto",rules:{required:!$&&"Your photo is required"},render:({field:{value:e,onChange:t,...a}})=>(0,r.jsxs)(u.xJ,{children:[(0,r.jsxs)(u.lX,{children:["Your Photo",!$&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(u.NI,{children:r.jsx(h.I,{type:"file",accept:"image/*",onChange:e=>t(e.target.files),...a})}),(0,r.jsxs)(u.pf,{children:[$?"Upload new photo or leave empty to keep existing":"Upload your photo of yourself (image files only, white background preferred)",r.jsx("br",{}),r.jsx("span",{className:"text-sm text-blue-600 mt-1",children:"Note: The photo must be a straight on, clear, unedited photo from the shoulders up. Do not submit a photo of your passport or other ID."})]}),r.jsx(u.zG,{className:"text-red-500"})]})}),r.jsx(u.Wi,{control:F.control,name:"signaturePhoto",rules:{required:!$&&"Signature photo is required"},render:({field:{value:e,onChange:t,...a}})=>(0,r.jsxs)(u.xJ,{children:[(0,r.jsxs)(u.lX,{children:["Signature Photo",!$&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(u.NI,{children:r.jsx(h.I,{type:"file",accept:"image/*",onChange:e=>t(e.target.files),...a})}),r.jsx(u.pf,{children:$?"Upload new signature or leave empty to keep existing":"Upload a photo of your signature (image files only, signature on paper preferred)"}),r.jsx(u.zG,{className:"text-red-500"})]})}),r.jsx(u.Wi,{control:F.control,name:"platform",rules:{required:"Contact platform is required"},render:({field:e})=>(0,r.jsxs)(u.xJ,{children:[(0,r.jsxs)(u.lX,{children:["Contact Platform",r.jsx("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)(p.Ph,{onValueChange:t=>{e.onChange(t),W(e=>({...e,platform:t}))},value:e.value,disabled:P,children:[r.jsx(u.NI,{children:r.jsx(p.i4,{children:r.jsx(p.ki,{placeholder:"Select platform"})})}),(0,r.jsxs)(p.Bw,{children:[r.jsx(p.Ql,{value:"Telegram",children:"Telegram (Recommended)"}),r.jsx(p.Ql,{value:"Snapchat",children:"Snapchat"})]})]}),r.jsx(u.pf,{children:P?"Using the platform from your whitelist verification.":"Please select your preferred contact platform."}),r.jsx(u.zG,{className:"text-red-500"})]})}),r.jsx(u.Wi,{control:F.control,name:"username",rules:{required:"Username is required",pattern:{value:/^[a-zA-Z0-9_.]+$/,message:"Snapchat"===F.watch("platform")?"Invalid Snapchat username format":"Invalid Telegram username format"}},render:({field:e})=>(0,r.jsxs)(u.xJ,{children:[(0,r.jsxs)(u.lX,{children:[F.watch("platform")||"Contact"," Username",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(u.NI,{children:(0,r.jsxs)("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"@"}),r.jsx(h.I,{...e,className:"pl-7",placeholder:"Snapchat"===F.watch("platform")?"snapchat_username":"telegram_username",value:e.value?.replace("@","")||"",onChange:t=>{let a=t.target.value;e.onChange(a),W(e=>({...e,username:a}))},disabled:P})]})}),r.jsx(u.pf,{children:P?"Using the username from your whitelist verification.":"Enter your contact username without the @ symbol."}),r.jsx(u.zG,{className:"text-red-500"})]})}),r.jsx(u.Wi,{control:F.control,name:"paymentMethod",rules:{required:"Payment method is required"},render:({field:e})=>(0,r.jsxs)(u.xJ,{children:[(0,r.jsxs)(u.lX,{children:["Payment Method",r.jsx("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)(p.Ph,{onValueChange:e.onChange,value:e.value||"",children:[r.jsx(u.NI,{children:r.jsx(p.i4,{children:r.jsx(p.ki,{placeholder:"Select payment method"})})}),r.jsx(p.Bw,{children:ex.map(e=>(0,r.jsxs)(p.Ql,{value:e.name,disabled:!e.isEnabled,className:"data-[disabled]:text-gray-400 data-[disabled]:cursor-not-allowed",children:[e.name,e.isEnabled?"":" (Currently Unavailable)"]},e.id))})]}),r.jsx(u.zG,{className:"text-red-500"})]})}),E&&r.jsx(u.Wi,{control:F.control,name:"wantEReceipt",render:({field:e})=>(0,r.jsxs)(u.xJ,{className:"flex flex-row items-start space-x-3 space-y-0",children:[r.jsx(u.NI,{children:r.jsx("input",{type:"checkbox",checked:e.value,onChange:e.onChange,className:"h-4 w-4 mt-1"})}),(0,r.jsxs)("div",{className:"space-y-1 leading-none",children:[r.jsx(u.lX,{children:"Receive E-Receipt (Recommended)"}),r.jsx(u.pf,{children:"Get an order number via email to track your order status"})]})]})}),E&&F.watch("wantEReceipt")&&r.jsx(u.Wi,{control:F.control,name:"email",rules:{required:"Email is required for e-receipt",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}},render:({field:e})=>(0,r.jsxs)(u.xJ,{children:[(0,r.jsxs)(u.lX,{children:["Email Address",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(u.NI,{children:r.jsx(h.I,{...e,type:"email",placeholder:"john.doe@example.com"})}),r.jsx(u.zG,{className:"text-red-500"})]})}),r.jsx("div",{className:"space-y-2",children:r.jsx(u.Wi,{control:F.control,name:"couponCode",render:({field:e})=>(0,r.jsxs)(u.xJ,{children:[r.jsx(u.lX,{children:"Coupon Code"}),r.jsx(u.NI,{children:(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(h.I,{...e,placeholder:"Enter coupon code",style:{textTransform:"uppercase"},onChange:t=>{e.onChange(t.target.value.toUpperCase())}}),ey?r.jsx(c.z,{type:"button",variant:"destructive",onClick:()=>{ev(null),ej(""),e.onChange("")},children:"Remove"}):r.jsx(c.z,{type:"button",variant:"outline",onClick:async()=>{if(e.value){let t=await fetch("/api/price"),{price:a}=await t.json(),r=a?.amount||85;await eb(e.value,r)}},children:"Apply"})]})}),eg&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:eg}),ey&&(0,r.jsxs)("p",{className:"text-sm text-green-500 mt-1",children:["Coupon applied! Price reduced from $",ey.originalPrice.toFixed(2)," to $",ey.discountedPrice.toFixed(2)]}),r.jsx(u.zG,{})]})})})]})})}),r.jsx("div",{className:"w-full md:flex-1 space-y-6",children:(0,r.jsxs)("div",{className:"bg-white p-4 sm:p-8 rounded-lg shadow-lg space-y-6 md:sticky md:top-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-semibold",children:"Review Information"}),r.jsx("div",{className:"text-right",children:ey?(0,r.jsxs)("div",{className:"flex flex-col items-end",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:["Original price: ",(0,r.jsxs)("span",{className:"line-through",children:["$",ey.originalPrice.toFixed(2)]})]}),(0,r.jsxs)("span",{className:"text-lg font-medium text-green-600",children:["Final price: $",ey.discountedPrice.toFixed(2)]}),(0,r.jsxs)("span",{className:"text-sm text-green-600",children:["You save: $",(ey.originalPrice-ey.discountedPrice).toFixed(2)]})]}):el?r.jsx("div",{className:"animate-pulse bg-gray-200 h-7 w-24 rounded"}):null!==ei?(0,r.jsxs)("span",{className:"text-lg font-medium",children:["Price: $",ei.toFixed(2)]}):null})]}),(0,r.jsxs)("div",{className:"md:flex md:gap-8",children:[(0,r.jsxs)("div",{className:"space-y-4 md:flex-1",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),r.jsx("p",{className:"mt-1",children:[q.firstName,q.middleName,q.lastName].filter(Boolean).join(" ")||"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Date of Birth"}),r.jsx("p",{className:"mt-1",children:q.dateOfBirth?(0,l.WU)(q.dateOfBirth,"MMMM d, yyyy"):"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Sex"}),r.jsx("p",{className:"mt-1",children:q.sex||"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Eye Color"}),r.jsx("p",{className:"mt-1",children:q.eyeColor||"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Hair Color"}),r.jsx("p",{className:"mt-1",children:q.hairColor||"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Height"}),r.jsx("p",{className:"mt-1",children:q.height||"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Weight"}),r.jsx("p",{className:"mt-1",children:q.weight?`${q.weight} lbs`:"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"State"}),r.jsx("p",{className:"mt-1",children:q.state||"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Platform"}),r.jsx("p",{className:"mt-1",children:q.platform||"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Username"}),r.jsx("p",{className:"mt-1",children:q.username?`@${q.username}`:"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Payment Method"}),r.jsx("p",{className:"mt-1",children:q.paymentMethod||"Not provided"})]}),q.wantEReceipt&&(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Email for E-Receipt"}),r.jsx("p",{className:"mt-1",children:q.email||"Not provided"})]})]}),(0,r.jsxs)("div",{className:"space-y-6 mt-6 md:mt-0 md:w-64",children:[q.passportPhotoUrl&&(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Your Photo"}),r.jsx("div",{className:"relative h-48 w-full bg-gray-50 rounded-lg overflow-hidden border",children:r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx(g.default,{src:q.passportPhotoUrl,alt:"Passport photo preview",width:192,height:192,className:"max-w-full max-h-full object-contain",unoptimized:!0})})})]}),q.signaturePhotoUrl&&(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Signature"}),r.jsx("div",{className:"relative h-24 w-full bg-white rounded-lg overflow-hidden border",children:r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx(g.default,{src:q.signaturePhotoUrl,alt:"Signature preview",width:256,height:64,className:"max-w-full max-h-full object-contain",unoptimized:!0})})})]})]})]}),k?$?r.jsx("div",{className:"space-y-4 mt-8",children:r.jsx(c.z,{type:"submit",className:"w-full shadow-md hover:shadow-lg transition-shadow bg-blue-600 text-white hover:bg-blue-700",onClick:F.handleSubmit(eD),form:"order-form",disabled:eN,children:eN?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Processing..."})]}):"Confirm"})}):(0,r.jsxs)("div",{className:"space-y-4 mt-8",children:[0===a.length&&r.jsx(c.z,{type:"submit",className:"w-full shadow-md hover:shadow-lg transition-shadow bg-white text-black border border-gray-200 hover:bg-gray-50",onClick:F.handleSubmit(ek),form:"order-form",disabled:!k||eN,children:eN?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-black"}),r.jsx("span",{children:"Processing..."})]}):"Place Order"}),r.jsx(c.z,{type:"submit",className:"w-full shadow-md hover:shadow-lg transition-shadow bg-black text-white hover:bg-black/90",onClick:F.handleSubmit(eC),form:"order-form",disabled:!k||eN,children:"Add to Cart (for group orders)"}),r.jsx("p",{className:"text-sm text-gray-500 text-center",children:a.length>0?"You can submit all orders in the cart once you're done adding everyone":"For group orders (1+ people), it's better to add each person to cart"})]}):r.jsx("div",{className:"space-y-4 mt-8",children:r.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsx("p",{className:"text-yellow-800 text-center",children:"We are currently not accepting new orders. Please check back later."})})})]})})]}),(0,r.jsxs)("div",{id:"faq-section",className:"bg-white p-4 sm:p-8 rounded-lg shadow-lg mt-8",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Frequently Asked Questions"}),r.jsx("div",{className:"grid gap-4",children:em.map(e=>(0,r.jsxs)("div",{className:"border rounded-lg overflow-hidden",onClick:()=>eE(e.id),children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-4 cursor-pointer bg-gray-50 hover:bg-gray-100",children:[r.jsx("h3",{className:"text-lg font-medium",children:e.title}),r.jsx(d.Z,{className:`w-5 h-5 transition-transform duration-300 ${er[e.id]?"rotate-180":""}`})]}),r.jsx("div",{className:`grid transition-all duration-300 ease-in-out ${er[e.id]?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}`,children:r.jsx("div",{className:"overflow-hidden",children:r.jsx("div",{className:"p-4 bg-white",children:r.jsx("p",{className:"text-gray-600",children:e.content})})})})]},e.id))})]})]}),(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:`fixed inset-0 bg-black/30 z-50 transition-opacity duration-300
            ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:()=>t(!1)}),r.jsx("div",{className:`fixed right-0 top-0 h-full w-full md:w-[600px] bg-white z-50 shadow-xl overflow-y-auto
            transform transition-all duration-300 ease-out
            ${e?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("h2",{className:"text-2xl font-semibold",children:["Your ID Cart (",a.length,")"]}),r.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-gray-700","aria-label":"Close cart",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(()=>{let e=a.reduce((e,t)=>e+t.price,0),t=a.reduce((e,t)=>e+t.originalPrice,0),s=t-e;return(0,r.jsxs)("div",{className:"space-y-6",children:[a.map((e,t)=>r.jsx("div",{className:"border rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex gap-4",children:[e.passportPhotoBase64&&r.jsx("div",{className:"w-20 h-20 flex-shrink-0",children:r.jsx("img",{src:e.passportPhotoBase64,alt:"ID Photo",className:"w-full h-full object-cover rounded-md"})}),r.jsx("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"font-medium",children:["Order #",t+1]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:[e.firstName,e.middleName,e.lastName].filter(Boolean).join(" ")}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["State: ",e.state]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["DOB: ",(0,l.WU)(e.dateOfBirth,"MM/dd/yyyy")]}),e.price!==e.originalPrice?(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-500 line-through",children:["Original: $",e.originalPrice.toFixed(2)]}),(0,r.jsxs)("p",{className:"text-sm font-medium text-green-600",children:["Final price: $",e.price.toFixed(2),e.couponCode&&(0,r.jsxs)("span",{className:"ml-1",children:["(",e.couponCode,")"]})]})]}):(0,r.jsxs)("p",{className:"text-sm font-medium text-black mt-2",children:["Price: $",e.price.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>eS(e),className:"text-blue-500 hover:text-blue-700","aria-label":"Edit order",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),r.jsx("button",{onClick:()=>eP(e.id),className:"text-red-500 hover:text-red-700","aria-label":"Remove from cart",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})})]})},e.id)),a.length>0&&r.jsx("div",{className:"border-t pt-4 mt-6",children:(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[s>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center text-gray-500",children:[r.jsx("span",{children:"Original Total:"}),(0,r.jsxs)("span",{className:"line-through",children:["$",t.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center text-green-600",children:[r.jsx("span",{children:"Total Savings:"}),(0,r.jsxs)("span",{children:["-$",s.toFixed(2)]})]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center text-lg font-bold",children:[r.jsx("span",{children:"Final Total:"}),(0,r.jsxs)("span",{children:["$",e.toFixed(2)]})]})]})})]})})(),a.length>0?r.jsx(c.z,{onClick:eI,className:"w-full shadow-md hover:shadow-lg transition-shadow mt-8 bg-black text-white hover:bg-black/90",disabled:eN,children:eN?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Processing..."})]}):`Submit All Orders (${a.length})`}):r.jsx("p",{className:"text-center text-gray-500",children:"Your cart is empty"})]})})]}),r.jsx("div",{className:`fixed bottom-0 left-0 right-0 bg-black text-white shadow-lg z-50 transform transition-all duration-400 ease-in-out ${U?"translate-y-0 opacity-100":"translate-y-full opacity-0"}`,children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between p-4",children:[r.jsx("p",{className:"text-sm pr-4",children:eh}),r.jsx("button",{onClick:()=>T(!1),className:"flex-shrink-0 ml-4 hover:text-gray-300 transition-colors","aria-label":"Dismiss security message",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),r.jsx(S,{open:M,onOpenChange:R,children:(0,r.jsxs)(L,{children:[(0,r.jsxs)(V,{children:[r.jsx(X,{children:B.title}),r.jsx(Y,{children:B.description})]}),r.jsx(G,{children:r.jsx(H,{onClick:()=>R(!1),children:"OK"})})]})})]})}let es=(0,a(62881).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);var ei=a(90434);let eo=[{name:"Snapchat",href:"https://snapchat.com/add/keys_id",icon:e=>r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",...e,children:r.jsx("path",{d:"M5.829 4.533c-.6 1.344-.363 3.752-.267 5.436-.648.359-1.48-.271-1.951-.271-.49 0-1.075.322-1.167.802-.066.346.089.85 1.201 1.289.43.17 1.453.37 1.69.928.333.784-1.71 4.403-4.918 4.931-.251.041-.43.265-.416.519.056.975 2.242 1.357 3.211 1.507.099.134.179.7.306 1.131.057.193.204.424.582.424.493 0 1.312-.38 2.738-.144 1.398.233 2.712 2.215 5.235 2.215 2.345 0 3.744-1.991 5.09-2.215.779-.129 1.448-.088 2.196.058.515.101.977.157 1.124-.349.129-.437.208-.992.305-1.123.96-.149 3.156-.53 3.211-1.505.014-.254-.165-.477-.416-.519-3.154-.52-5.259-4.128-4.918-4.931.236-.557 1.252-.755 1.69-.928.814-.321 1.222-.716 1.213-1.173-.011-.585-.715-.934-1.233-.934-.527 0-1.284.624-1.897.286.096-1.698.332-4.095-.267-5.438-1.135-2.543-3.66-3.829-6.184-3.829-2.508 0-5.014 1.268-6.158 3.833z"})})},{name:"Telegram",href:"https://t.me/keysids",icon:e=>r.jsx("svg",{viewBox:"0 0 24 24",...e,children:r.jsx("path",{fill:"currentColor",d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})}];function el(){return r.jsx(s.Suspense,{children:r.jsx(en,{})})}function en(){(0,f.useRouter)();let[e,t]=(0,s.useState)(!1),[a,i]=(0,s.useState)(!1),[o,l]=(0,s.useState)([]),[n,d]=(0,s.useState)(null),m=async e=>{try{let t=await Promise.all(e.map(async e=>({...e,passportPhotoBase64:e.passportPhotoBase64?await u(e.passportPhotoBase64):null,signaturePhotoBase64:e.signaturePhotoBase64?await u(e.signaturePhotoBase64):null}))),a=JSON.stringify(t);try{localStorage.setItem("cart",a)}catch(e){if(e instanceof Error&&"QuotaExceededError"===e.name){let e=await h(t);localStorage.setItem("cart",JSON.stringify(e)),l(e)}else throw e}}catch(e){console.error("Error saving cart:",e),alert("Failed to save cart. Please try again or remove some items.")}},u=async(e,t=.7)=>{if(e.length>5e4)try{let a=e.split(",")[0].split(":")[1].split(";")[0],r="image/png"===a,s=atob(e.split(",")[1]),i=new Uint8Array(s.length);for(let e=0;e<s.length;e++)i[e]=s.charCodeAt(e);return new Blob([i],{type:a}),new Promise(a=>{let s=document.createElement("img");s.onload=()=>{let e=document.createElement("canvas"),i=e.getContext("2d",{willReadFrequently:!0}),o=s.width,l=s.height;o>800&&(l=800*l/o,o=800),e.width=o,e.height=l,r&&i.clearRect(0,0,o,l),i?.drawImage(s,0,0,o,l),a(e.toDataURL(r?"image/png":"image/jpeg",t))},s.src=e})}catch(e){console.error("Error compressing image:",e)}return e},h=async e=>{let t=[...e];t=await Promise.all(t.map(async e=>({...e,passportPhotoBase64:e.passportPhotoBase64?await u(e.passportPhotoBase64,.5):null,signaturePhotoBase64:e.signaturePhotoBase64?await u(e.signaturePhotoBase64,.5):null})));try{return localStorage.setItem("cart",JSON.stringify(t)),t}catch(a){let e=t.map((e,a)=>{if(a<t.length-3){let{passportPhotoBase64:t,signaturePhotoBase64:a,...r}=e;return{...r,passportPhotoBase64:null,signaturePhotoBase64:null,isCompressed:!0}}return e});try{return localStorage.setItem("cart",JSON.stringify(e)),e}catch(a){let e=t.slice(-3);return localStorage.setItem("cart",JSON.stringify(e)),e}}};return(0,r.jsxs)("div",{children:[r.jsx("header",{className:`sticky top-0 z-50 transition-all duration-200 ${e?"bg-white/80 backdrop-blur-sm":"bg-white"} border-b shadow-sm`,children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-2 flex justify-between items-center",children:[r.jsx("div",{className:"relative w-40 h-40 -my-8 ml-4",children:r.jsx(g.default,{src:"/logos/logo_stacked.png",alt:"Logo",fill:!0,className:"object-contain",priority:!0})}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[eo.map(e=>r.jsx(c.z,{variant:"ghost",size:"icon",asChild:!0,className:"rounded-full hover:bg-gray-100",children:(0,r.jsxs)(ei.default,{href:e.href,target:"_blank",rel:"noopener noreferrer",children:[r.jsx(e.icon,{className:"h-6 w-6"}),r.jsx("span",{className:"sr-only",children:e.name})]})},e.name)),(0,r.jsxs)(c.z,{variant:"ghost",size:"lg",className:"relative w-12 h-12 rounded-full",onClick:()=>i(!0),children:[r.jsx(es,{className:"h-8 w-8 transform scale-125"}),o.length>0&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-sm font-medium rounded-full w-6 h-6 flex items-center justify-center shadow-sm",children:o.length})]})]})]})}),r.jsx("main",{className:"container mx-auto py-6 px-4",children:r.jsx(er,{showCartPreview:a,setShowCartPreview:i,cart:o,onCartUpdate:e=>{l(e),m(e)}})})]})}},90908:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`/Users/kyleaditya/Documents/IDF coupon fulldetails/app/page.tsx#default`)},98958:(e,t,a)=>{"use strict";a.d(t,{Dx:()=>ea,VY:()=>et,aV:()=>ee,dk:()=>er,fC:()=>Q,h_:()=>K,jm:()=>G,p8:()=>N,x8:()=>es,xz:()=>Z});var r=a(17577),s=a(82561),i=a(48051),o=a(93095),l=a(88957),n=a(52067),d=a(825),c=a(10441),m=a(83078),u=a(9815),h=a(45226),p=a(80699),x=a(58260),f=a(35664),g=a(34214),j=a(10326),y="Dialog",[v,N]=(0,o.b)(y),[w,b]=v(y),C=e=>{let{__scopeDialog:t,children:a,open:s,defaultOpen:i,onOpenChange:o,modal:d=!0}=e,c=r.useRef(null),m=r.useRef(null),[u=!1,h]=(0,n.T)({prop:s,defaultProp:i,onChange:o});return(0,j.jsx)(w,{scope:t,triggerRef:c,contentRef:m,contentId:(0,l.M)(),titleId:(0,l.M)(),descriptionId:(0,l.M)(),open:u,onOpenChange:h,onOpenToggle:r.useCallback(()=>h(e=>!e),[h]),modal:d,children:a})};C.displayName=y;var P="DialogTrigger",I=r.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,o=b(P,a),l=(0,i.e)(t,o.triggerRef);return(0,j.jsx)(h.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":L(o.open),...r,ref:l,onClick:(0,s.M)(e.onClick,o.onOpenToggle)})});I.displayName=P;var k="DialogPortal",[S,D]=v(k,{forceMount:void 0}),E=e=>{let{__scopeDialog:t,forceMount:a,children:s,container:i}=e,o=b(k,t);return(0,j.jsx)(S,{scope:t,forceMount:a,children:r.Children.map(s,e=>(0,j.jsx)(u.z,{present:a||o.open,children:(0,j.jsx)(m.h,{asChild:!0,container:i,children:e})}))})};E.displayName=k;var O="DialogOverlay",M=r.forwardRef((e,t)=>{let a=D(O,e.__scopeDialog),{forceMount:r=a.forceMount,...s}=e,i=b(O,e.__scopeDialog);return i.modal?(0,j.jsx)(u.z,{present:r||i.open,children:(0,j.jsx)(R,{...s,ref:t})}):null});M.displayName=O;var R=r.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,s=b(O,a);return(0,j.jsx)(x.Z,{as:g.g7,allowPinchZoom:!0,shards:[s.contentRef],children:(0,j.jsx)(h.WV.div,{"data-state":L(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),B="DialogContent",A=r.forwardRef((e,t)=>{let a=D(B,e.__scopeDialog),{forceMount:r=a.forceMount,...s}=e,i=b(B,e.__scopeDialog);return(0,j.jsx)(u.z,{present:r||i.open,children:i.modal?(0,j.jsx)(F,{...s,ref:t}):(0,j.jsx)(_,{...s,ref:t})})});A.displayName=B;var F=r.forwardRef((e,t)=>{let a=b(B,e.__scopeDialog),o=r.useRef(null),l=(0,i.e)(t,a.contentRef,o);return r.useEffect(()=>{let e=o.current;if(e)return(0,f.Ry)(e)},[]),(0,j.jsx)(z,{...e,ref:l,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,s.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:(0,s.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,s.M)(e.onFocusOutside,e=>e.preventDefault())})}),_=r.forwardRef((e,t)=>{let a=b(B,e.__scopeDialog),s=r.useRef(!1),i=r.useRef(!1);return(0,j.jsx)(z,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(s.current||a.triggerRef.current?.focus(),t.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(s.current=!0,"pointerdown"!==t.detail.originalEvent.type||(i.current=!0));let r=t.target;a.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),z=r.forwardRef((e,t)=>{let{__scopeDialog:a,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l,...n}=e,m=b(B,a),u=r.useRef(null),h=(0,i.e)(t,u);return(0,p.EW)(),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(c.M,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:l,children:(0,j.jsx)(d.XB,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":L(m.open),...n,ref:h,onDismiss:()=>m.onOpenChange(!1)})}),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Y,{titleId:m.titleId}),(0,j.jsx)(H,{contentRef:u,descriptionId:m.descriptionId})]})]})}),q="DialogTitle",W=r.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,s=b(q,a);return(0,j.jsx)(h.WV.h2,{id:s.titleId,...r,ref:t})});W.displayName=q;var U="DialogDescription",T=r.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,s=b(U,a);return(0,j.jsx)(h.WV.p,{id:s.descriptionId,...r,ref:t})});T.displayName=U;var $="DialogClose",J=r.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,i=b($,a);return(0,j.jsx)(h.WV.button,{type:"button",...r,ref:t,onClick:(0,s.M)(e.onClick,()=>i.onOpenChange(!1))})});function L(e){return e?"open":"closed"}J.displayName=$;var V="DialogTitleWarning",[G,X]=(0,o.k)(V,{contentName:B,titleName:q,docsSlug:"dialog"}),Y=({titleId:e})=>{let t=X(V),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return r.useEffect(()=>{e&&!document.getElementById(e)&&console.error(a)},[a,e]),null},H=({contentRef:e,descriptionId:t})=>{let a=X("DialogDescriptionWarning"),s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a.contentName}}.`;return r.useEffect(()=>{let a=e.current?.getAttribute("aria-describedby");t&&a&&!document.getElementById(t)&&console.warn(s)},[s,e,t]),null},Q=C,Z=I,K=E,ee=M,et=A,ea=W,er=T,es=J},9815:(e,t,a)=>{"use strict";a.d(t,{z:()=>o});var r=a(17577),s=a(48051),i=a(65819),o=e=>{let{present:t,children:a}=e,o=function(e){var t,a;let[s,o]=r.useState(),n=r.useRef({}),d=r.useRef(e),c=r.useRef("none"),[m,u]=(t=e?"mounted":"unmounted",a={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},r.useReducer((e,t)=>a[e][t]??e,t));return r.useEffect(()=>{let e=l(n.current);c.current="mounted"===m?e:"none"},[m]),(0,i.b)(()=>{let t=n.current,a=d.current;if(a!==e){let r=c.current,s=l(t);e?u("MOUNT"):"none"===s||t?.display==="none"?u("UNMOUNT"):a&&r!==s?u("ANIMATION_OUT"):u("UNMOUNT"),d.current=e}},[e,u]),(0,i.b)(()=>{if(s){let e;let t=s.ownerDocument.defaultView??window,a=a=>{let r=l(n.current).includes(a.animationName);if(a.target===s&&r&&(u("ANIMATION_END"),!d.current)){let a=s.style.animationFillMode;s.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===s.style.animationFillMode&&(s.style.animationFillMode=a)})}},r=e=>{e.target===s&&(c.current=l(n.current))};return s.addEventListener("animationstart",r),s.addEventListener("animationcancel",a),s.addEventListener("animationend",a),()=>{t.clearTimeout(e),s.removeEventListener("animationstart",r),s.removeEventListener("animationcancel",a),s.removeEventListener("animationend",a)}}u("ANIMATION_END")},[s,u]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:r.useCallback(e=>{e&&(n.current=getComputedStyle(e)),o(e)},[])}}(t),n="function"==typeof a?a({present:o.isPresent}):r.Children.only(a),d=(0,s.e)(o.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?e.ref:(a=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n));return"function"==typeof a||o.isPresent?r.cloneElement(n,{ref:d}):null};function l(e){return e?.animationName||"none"}o.displayName="Presence"}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[9276,5015,9308,434,739,8181,604,341,6821],()=>a(75695));module.exports=r})();